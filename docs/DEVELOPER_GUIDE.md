üìñ AI ChatBot - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
–≠—Ç–æ—Ç –≥–∞–π–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç.

1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
1.1. –ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã
Docker –∏ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞)

Node.js (v18+) –∏ npm

Python (v3.9+) –∏ pip

virtualenv –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

1.2. Backend
cd backend

# –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate # –¥–ª—è Linux/macOS
# venv\Scripts\activate # –¥–ª—è Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
pip install -r requirements-dev.txt

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–ª—é—á–∏
cp ../config/.env.template ../.env
nano ../.env

1.3. Frontend
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

2. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2.1. –° –ø–æ–º–æ—â—å—é Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)
Docker Compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è hot-reload. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ backend –∏ frontend –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (backend, frontend, redis, chromadb, celery)
docker-compose -f docker-compose.yml -f docker-compose.dev.yml up --build

2.2. –õ–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)
–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Redis
redis-server
# –¢–µ—Ä–º–∏–Ω–∞–ª 2: ChromaDB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RAG)
# —Å–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ docs/ARCHITECTURE.md
# –¢–µ—Ä–º–∏–Ω–∞–ª 3: Backend
cd backend
source venv/bin/activate
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
# –¢–µ—Ä–º–∏–Ω–∞–ª 4: Celery worker (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
celery -A app.worker.celery_app worker --loglevel=info
# –¢–µ—Ä–º–∏–Ω–∞–ª 5: Frontend
cd frontend
npm start

3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3.1. Backend —Ç–µ—Å—Ç—ã
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º pytest –¥–ª—è unit –∏ integration-—Ç–µ—Å—Ç–æ–≤.

cd backend
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –≤ verbose-—Ä–µ–∂–∏–º–µ
pytest -v

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞
pytest --cov=app

4. –°—Ç–∏–ª—å –∫–æ–¥–∞ –∏ –ö–∞—á–µ—Å—Ç–≤–æ
–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∫–æ–¥–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–Ω—Ç–µ—Ä—ã –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

4.1. Backend (Python)
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: black

–õ–∏–Ω—Ç–∏–Ω–≥: flake8

cd backend
black . && flake8 .

4.2. Frontend (TypeScript/React)
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: prettier

–õ–∏–Ω—Ç–∏–Ω–≥: eslint

cd frontend
npm run format && npm run lint

5. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç DI (dependency injection) —á–µ—Ä–µ–∑ FastAPI.
- AIService –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
- VectorMemoryService —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ Singleton.
- –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ –≤ VoiceService —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Redis.
- Nginx ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

6. –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: –í backend/app/services/ai_providers/ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª my_provider.py.

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–≤ –µ–≥–æ –æ—Ç BaseAIProvider –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ –≤—Å–µ –µ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã (generate_response, generate_streaming_response –∏ —Ç.–¥.).

from .base import BaseAIProvider

class MyProvider(BaseAIProvider):
    async def generate_response(self, ...):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
        pass
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä: –í backend/app/services/ai_service.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥–µ _initialize_providers.

# –í –º–µ—Ç–æ–¥–µ _initialize_providers() –∫–ª–∞—Å—Å–∞ AIService
if self.settings.my_provider_api_key:
    self.providers["my_provider_name"] = MyProvider(...)

–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MY_PROVIDER_API_KEY) –≤ backend/app/core/config.py –∏ –≤ —Ñ–∞–π–ª-—à–∞–±–ª–æ–Ω config/.env.template.

–ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞, –≤–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.
